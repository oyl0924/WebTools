# WebTools - 网站管理工具

一个基于 Electron + Vue 3 的桌面应用，用于快速管理和访问常用网站，支持创建桌面快捷方式，让你的工作更高效。

## ✨ 主要功能

### 📌 网站管理
- **快速添加网站**：通过简洁的界面添加常用网站
- **智能图标获取**：自动获取网站 favicon 作为图标
- **灵活的窗口模式**：支持正常、最大化、全屏三种窗口启动模式
- **搜索功能**：快速搜索已添加的网站
- **桌面快捷方式**：一键创建桌面快捷方式，独立启动

### 🗂️ 多标签页支持
- **标签页管理**：支持在子窗口中创建和管理多个标签页
- **新建标签页**：点击+号快速创建当前网站的标签页
- **智能链接处理**：自动捕获 `target="_blank"` 链接并在新标签页打开
- **标签页切换**：点击标签页标题自由切换
- **标签页关闭**：支持关闭单个标签页

### 🎨 界面特性
- **现代化 UI**：基于 Ant Design Vue 的美观界面
- **网格布局**：卡片式网格展示，直观易用
- **管理面板**：统一的管理界面，支持编辑、删除、调整窗口模式等操作
- **自定义标题栏**：仿 VS Code 风格的窗口控制按钮
- **智能通知**：通知位置优化，避开自定义标题栏

### 🔧 自定义按钮
- **快捷操作**：为每个网站添加自定义快捷按钮
- **多种打开方式**：新窗口、新标签页、本页打开
- **灵活配置**：自定义按钮名称和目标 URL
- **集中管理**：在网站编辑界面统一管理自定义按钮

### ⚙️ 系统功能
- **快捷键支持**：F5 刷新，F12 打开开发者工具
- **数据持久化**：本地 JSON 文件存储，安全可靠
- **图标缓存**：自动下载和缓存网站图标
- **多窗口支持**：支持同时打开多个网站窗口
- **性能优化**：优化的窗口加载机制，启动速度快

## 🚀 快速开始

### 环境要求
- Node.js 16+
- Yarn 或 npm

### 安装依赖
```bash
yarn install
# 或
npm install
```

### 开发模式
```bash
yarn dev
# 或
npm run dev
```

### 构建应用

#### 构建所有平台
```bash
yarn build
# 或
npm run build
```

#### 仅构建 Windows 版本（推荐）
```bash
yarn build:win
# 或
npm run build:win
```

构建完成后，安装包位于 `release` 目录下。

## 📖 使用指南

### 添加网站
1. 点击主界面右上角的"管理"按钮
2. 点击左上角的"新增"按钮
3. 填写网站信息：
   - **网站名称**：显示名称
   - **网站地址**：完整的 URL（如 https://www.google.com）
   - **图标地址**：可选，留空则自动获取
   - **窗口大小**：选择正常、最大化或全屏
4. 点击"确定"保存

### 打开网站
- **从主界面**：直接点击网站卡片
- **从桌面快捷方式**：双击桌面上创建的快捷方式图标

### 使用多标签页
1. 在子窗口中，点击标题栏右侧的 **+** 号按钮新建标签页
2. 网页中的 `target="_blank"` 链接会自动在新标签页打开
3. 点击标签页标题可以切换不同的页面
4. 点击标签页右侧的 **×** 按钮可以关闭标签页

### 管理网站
1. 点击右上角"管理"按钮
2. 在管理界面可以：
   - 编辑网站信息
   - 删除网站
   - 切换窗口模式（点击窗口大小列的按钮循环切换）
   - 添加到桌面
   - 配置自定义按钮

### 创建桌面快捷方式
1. 在管理界面中找到目标网站
2. 点击"添加到桌面"按钮
3. 桌面上会创建一个快捷方式，使用该网站的图标

### 添加自定义按钮
1. 在管理界面中点击目标网站的"自定义按钮"
2. 点击"新增按钮"
3. 配置按钮信息：
   - 按钮名称
   - 目标 URL
   - 打开方式（新窗口/新标签页/本页打开）
4. 保存后，按钮会显示在网站卡片下方

## ⌨️ 快捷键

所有窗口都支持以下快捷键（开发和生产环境均可用）：

### 通用快捷键
- **F5**：刷新当前页面
- **F12**：打开/关闭开发者工具

### 窗口控制
- **点击标题栏**：拖动窗口（自定义标题栏区域）
- **窗口控制按钮**：最小化、最大化/还原、关闭窗口

### 多标签页操作
- **点击 + 号**：新建标签页
- **点击标签页标题**：切换到该标签页
- **点击 × 按钮**：关闭标签页

## 🏗️ 技术栈

- **前端框架**：Vue 3 + TypeScript
- **UI 库**：Ant Design Vue 4.x
- **桌面框架**：Electron 30.x
- **构建工具**：Vite 5.x
- **打包工具**：electron-builder

## 📁 项目结构

```
WebTools/
├── electron/              # Electron 主进程代码
│   ├── main.ts           # 主进程入口
│   ├── preload.ts        # 预加载脚本
│   └── storage.ts        # 本地数据存储
├── src/                   # Vue 应用代码
│   ├── components/       # Vue 组件
│   │   ├── HomePage.vue          # 主页面
│   │   ├── ManageModal.vue       # 管理弹窗
│   │   ├── AddWebsiteModal.vue   # 添加网站弹窗
│   │   ├── EditWebsiteModal.vue  # 编辑网站弹窗
│   │   ├── CustomButtonModal.vue # 自定义按钮弹窗
│   │   └── SettingsModal.vue     # 设置弹窗
│   ├── types/            # TypeScript 类型定义
│   ├── styles/           # 样式文件
│   │   └── dark-theme.css        # 深色主题样式
│   ├── App.vue           # 根组件
│   ├── main.ts           # Vue 入口
│   └── router.ts         # 路由配置
├── public/               # 静态资源
│   └── icon.ico         # 应用图标
├── package.json          # 项目配置
└── vite.config.ts        # Vite 配置
```

## 💾 数据存储

应用数据存储在系统的用户数据目录下：
- **Windows**: `%APPDATA%\WebTools\`
- **网站数据**: `websites.json`
- **图标缓存**: `icons/` 文件夹

## 🔧 配置说明

### 窗口模式
- **正常**：使用默认窗口大小（1000x700）
- **最大化**：窗口最大化显示（推荐）
- **全屏**：全屏模式，隐藏任务栏

### 图标处理
- 添加网站时自动下载图标到本地
- 图标缓存在应用数据目录，永久保存
- 创建桌面快捷方式时使用本地图标路径
- 如果图标下载失败，使用应用程序图标作为备选

## 🐛 常见问题

### Q: 桌面快捷方式无法打开？
A: 确保应用已正确安装，并且快捷方式指向正确的应用程序路径。

### Q: 网站图标不显示？
A: 检查网站的 favicon 是否可访问，或者手动设置图标 URL。

### Q: 如何修改已添加的网站？
A: 在管理界面中点击"编辑"按钮进行修改，也可以右键点击网站卡片进行编辑。

### Q: 多标签页功能如何使用？
A: 在子窗口中点击标题栏右侧的 **+** 号按钮新建标签页，点击标签页标题切换，点击 **×** 按钮关闭标签页。

### Q: 网页中的链接无法在新标签页打开？
A: 确保链接使用了 `target="_blank"` 属性，应用会自动捕获这类链接在新标签页打开。

### Q: 通知弹窗位置异常？
A: 应用已优化通知位置，避开自定义标题栏，确保通知不被遮挡。

### Q: 多个窗口启动慢？
A: 最新版本已优化性能，直接加载网站而不是加载应用框架，支持多标签页减少窗口数量。

### Q: 如何卸载应用？
A: Windows 系统在"设置 > 应用"中卸载，或使用安装目录下的卸载程序。

## 📝 更新日志

### v1.1.0 (当前版本)
#### 🆕 新增功能
- ✅ **多标签页支持**：子窗口支持创建和管理多个标签页
- ✅ **智能链接处理**：自动捕获 `target="_blank"` 链接在新标签页打开
- ✅ **标签页管理**：支持新建、切换、关闭标签页
- ✅ **VS Code 风格界面**：窗口控制按钮采用 VS Code 风格设计
- ✅ **智能通知优化**：通知位置避开自定义标题栏
- ✅ **自定义按钮管理优化**：在编辑网站界面直接管理自定义按钮

#### 🔧 功能改进
- ✅ **界面优化**：首页按钮和搜索框位置调整
- ✅ **性能提升**：WebView 加载机制优化
- ✅ **错误处理**：增强 WebView 生命周期管理和错误处理
- ✅ **用户体验**：多标签页操作更加流畅

### v1.0.0
- ✅ 网站管理功能
- ✅ 桌面快捷方式支持
- ✅ 自定义窗口模式
- ✅ 图标自动下载和缓存
- ✅ 自定义按钮功能
- ✅ 性能优化
- ✅ 快捷键支持（F5/F12）
- ✅ 多窗口同时启动

## 📄 许可证

MIT License

## 👤 作者

OYL0924

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📞 支持

如有问题或建议，请提交 Issue。
